#!/bin/bash
# claude-code-command-switch 命令模板
# 此文件会被 claude-switch 自动使用

# 模板变量（会被自动替换）:
# {{COMMAND_NAME}} - 命令名称，如 claude-glm
# {{MODEL_ID}} - 模型 ID，如 glm-4
# {{API_ENDPOINT}} - API 端点
# {{KEY_ENV_VAR}} - API Key 环境变量名
# {{DESCRIPTION}} - 模型描述

#!/bin/bash
# Auto-generated by claude-code-command-switch
# Command: {{COMMAND_NAME}}
# Model: {{MODEL_ID}}
# Description: {{DESCRIPTION}}

# 检查 API Key 环境变量
if [ -z "${{{KEY_ENV_VAR}}}" ]; then
    echo "错误: 环境变量 {{KEY_ENV_VAR}} 未设置"
    echo ""
    echo "请设置您的 API Key:"
    echo "  export {{KEY_ENV_VAR}}=your-api-key-here"
    echo ""
    echo "或添加到您的 shell 配置文件 (~/.bashrc 或 ~/.zshrc):"
    echo "  echo 'export {{KEY_ENV_VAR}}=your-api-key-here' >> ~/.bashrc"
    echo "  source ~/.bashrc"
    exit 1
fi

# 设置 Claude API 环境变量
export ANTHROPIC_API_KEY="${{{KEY_ENV_VAR}}}"
export ANTHROPIC_BASE_URL="{{API_ENDPOINT}}"

# 调用原始 claude 命令
exec claude "$@"
